<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<title>Insert title here</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
</head>

<h2 class="text-center">Listado de empleados</h2>

<body class="p-3 mb-2 bg-dark text-white">
	<a class="btn btn-primary" th:href="@{/empleados/formulario/}" title="Añadir un nuevo empleado" role="button"><i class="fas fa-file" aria-hidden="true"></i> Añadir Empleado</a>  
	<header th:insert="fragments/menu.html :: menu"> </header>
	<div th:if="${mensaje!=null}" class='alert alert-success'
		th:text="${mensaje}" role='alert'></div>
	<div th:if="${mensaje2!=null}" class='alert alert-success'
		th:text="${mensaje2}" role='alert'></div>	
	<div th:if="${mensaje3!=null}" class='alert alert-success'
		th:text="${mensaje3}" role='alert'></div>	
	<table class="table table-dark table-striped">
		<thead>
			<tr>
				<th>ID</th>
				<th>NOMBRE</th>
				<th>EMPLEO</th>
				<th>SALARIO</th>
				<th>FOTO</th>
				<th>DISPONIBLE</th>
				<th>ELIMINAR</th>
				<th>MODIFICAR</th>
				<th>EMPLEADO</th>
				<th>DESCARGA FOTO</th>

			</tr>
		</thead>
		<tbody>
			<tr th:each="emp: ${empleados}">
				<td th:text="${emp.id}"></td>
				<td th:text="${emp.nombre}"></td>
				<td th:text="${emp.trabajo}"></td>
				<td th:text="${emp.salario}"></td>
				<td><img th:src="@{/img-fotos/}+${emp.foto}" width="100" /></td>
				<td><span th:if="${emp.disponible==1}" class="badge bg-success">Si</span>
					<span th:unless="${emp.disponible==1}" class="badge bg-danger">No</span>
				</td>
				<td><a th:href="@{/empleados/eliminar/}+${emp.id}">eliminar</a></td>
				<td><a th:href="@{/empleados/modificar/}+${emp.id}">modificar</a></td>
				<!--  <td th:text="${emp.disponible==1 ? 'Si':'No'}"></td>-->
				<td><a th:href="@{/empleados/empleado/}+${emp.id}">mostrar
						empleado</a></td>
				<td><a th:href="@{/empleados/descargar/}+${emp.id}">descargar
						foto</a></td>
		</tbody>
	</table>

	<!--  <div th:if="${mensaje!=null}" class='alert alert-success'
		th:text="${mensaje}" role='alert'></div>
	<div class="align-center">

		<h3>Añadir empleado</h3>
		<form class="row row-cols-lg-auto g-3 align-items-center"
			th:action="@{/empleados/agregar}" th:object="${empleado}"
			enctype="multipart/form-data" method="post">

			<div class="mb-3">
				<label for="nombre">Nombre:</label> <input type="text" name=nombre
					placeholder="Nombre del empleado" />

			</div>
			<div class="mb-3">
				<label for="trabajo">Trabajo:</label> <select name=trabajo
					th:value="${empleado?.trabajo}">
					<option value="operario">operario</option>
					<option value="administrativo">administrativo</option>
					<option value="tecnico">tecnico</option>
					<option value="gerente">gerente</option>
				</select>
			</div>
			<div class="mb-3">
				<label for="fotoEmpleado">Foto</label> <input type="file"
					class="form-control-file" name="fotoEmpleado" id="fotoEmpleado">
			</div>
			<div class="mb-3">
				<label for="disponible">Disponibilidad:</label> <select
					name=disponible th:value="${empleado?.disponible}">
					<option value=1>disponible</option>
					<option value=0>no disponible</option>

				</select>
			</div>

			<div class="col-auto">
				<button type="submit" class="btn btn-primary">Agregar</button>
			</div>


		</form>
	</div>

	<div class="align-center">
		<h3>Modificar datos de empleado</h3>
		<form class="row row-cols-lg-auto g-3 align-items-center"
			th:action="@{/empleados/modificar}" th:object="${empleado}"
			enctype="multipart/form-data" method="post">
			<div class="mb-3">
				<label for="id">id:</label> <input type=number name=id
					readonly="readonly" th:value="${empleado?.id}">
			</div>
			<div class="mb-3">
				<label for="nombre">Nombre:</label> <input type=text name=nombre
					readonly="readonly" th:value="${empleado?.nombre}"> <label
					for="trabajo">Trabajo:</label> <select name=trabajo
					th:value="${empleado?.trabajo}">
					<option value="operario">operario</option>
					<option value="administrativo">administrativo</option>
					<option value="tecnico">tecnico</option>
					<option value="gerente">gerente</option>
				</select>
			</div>
			<div class="mb-3">
				<label for="fotoEmpleado">Foto</label> <input type="file"
					class="form-control-file" name="fotoEmpleado" id="fotoEmpleado">
			</div>
			<div class="mb-3">
				<label for="disponible">Disponibilidad:</label> <select
					name=disponible th:value="${empleado?.disponible}">
					<option value=1>disponible</option>
					<option value=0>no disponible</option>

				</select>
			</div>
			<div class="col-auto">
				<button type="submit" class="btn btn-primary">Modificar</button>
			</div>
		</form>
	</div>-->


</body>
</html>